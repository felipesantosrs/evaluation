<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="template.xhtml">

	<ui:define name="title">Manutenção de Usuários</ui:define>

	<ui:define name="content">
		<h:form>
			<h:panelGrid style="text-align: right; width: 100%;">
				<h:commandButton value="Novo" action="#{menuMBean.newUser}" style="cursor: pointer;" />
			</h:panelGrid>
			<br/>
			<rich:panel header="Lista de Usuários">
				<rich:dataTable id="tblUser" var="user" value="#{userMBean.list}" style="width: 100%;">
					<f:facet name="header">
						<rich:columnGroup>
							<rich:column>
								<h:outputText value="Código" />
							</rich:column>
							<rich:column>
								<h:outputText value="Nome" />
							</rich:column>
							<rich:column>
								<h:outputText value="E-mail" />
							</rich:column>
							<rich:column>
								<h:outputText value="Tipo" />
							</rich:column>
							<rich:column>
								<h:outputText value="Ativo" />
							</rich:column>
							<rich:column>
								<h:outputText value="Bloqueado" />
							</rich:column>
							<rich:column>
								<h:outputText value="Último Login" />
							</rich:column>
						</rich:columnGroup>
					</f:facet>
					<rich:column>
						<h:commandLink action="#{userMBean.edit}" value="#{user.id}">
							<f:setPropertyActionListener target="#{userMBean.user}" value="#{user}" />
						</h:commandLink>
					</rich:column>
					<rich:column>
						<h:outputText value="#{user.name}" />
					</rich:column>
					<rich:column>
						<h:outputText value="#{user.email}" />
					</rich:column>
					<rich:column>
						<h:outputText value="#{user.type.value}" />
					</rich:column>
					<rich:column style="text-align: center;">
						<h:outputText value="#{user.enabled ? 'Sim' : 'Não'}" />
					</rich:column>
					<rich:column style="text-align: center;">
						<h:outputText value="#{user.blocked ? 'Sim' : 'Não'}" />
					</rich:column>
					<rich:column>
						<h:outputText value="#{user.lastLogin}" />
					</rich:column>
				</rich:dataTable>
			</rich:panel>
		</h:form>
	</ui:define>

</ui:composition>
